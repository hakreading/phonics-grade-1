<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√≤ Ch∆°i Phonics Vui Nh·ªôn</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', sans-serif;
            touch-action: manipulation; /* T·ªëi ∆∞u h√≥a cho c·∫£m ·ª©ng, tr√°nh delay khi nh·∫•n */
        }
        .btn-sound {
            transition: transform 0.1s ease, box-shadow 0.1s ease;
        }
        .btn-sound:active {
            transform: scale(0.95);
            box-shadow: none;
        }
        /* T√πy ch·ªânh thanh cu·ªôn */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        /* Animation cho game (v·ªõi ti·ªÅn t·ªë cho tr√¨nh duy·ªát c≈©) */
        @-webkit-keyframes tada {
            from { -webkit-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); }
            10%, 20% { -webkit-transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); }
            30%, 50%, 70%, 90% { -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg); transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg); }
            40%, 60%, 80% { -webkit-transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg); transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg); }
            to { -webkit-transform: scale3d(1, 1, 1); transform: scale3d(1, 1, 1); }
        }
        @keyframes tada {
            from { transform: scale3d(1, 1, 1); }
            10%, 20% { transform: scale3d(0.9, 0.9, 0.9) rotate3d(0, 0, 1, -3deg); }
            30%, 50%, 70%, 90% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg); }
            40%, 60%, 80% { transform: scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg); }
            to { transform: scale3d(1, 1, 1); }
        }
        .animate-tada { -webkit-animation: tada 1s ease; animation: tada 1s ease; }
        
        @-webkit-keyframes shake {
            10%, 90% { -webkit-transform: translate3d(-1px, 0, 0); transform: translate3d(-1px, 0, 0); }
            20%, 80% { -webkit-transform: translate3d(2px, 0, 0); transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { -webkit-transform: translate3d(-4px, 0, 0); transform: translate3d(-4px, 0, 0); }
            40%, 60% { -webkit-transform: translate3d(4px, 0, 0); transform: translate3d(4px, 0, 0); }
        }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
        .animate-shake { -webkit-animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; animation: shake 0.82s cubic-bezier(.36,.07,.19,.97) both; }
        
        .game-container { min-height: 150px; }
    </style>
</head>
<body class="bg-sky-100 text-gray-800 flex items-center justify-center min-h-screen p-4">

    <div id="app" class="w-full max-w-2xl lg:max-w-4xl mx-auto bg-white rounded-2xl shadow-2xl p-6 md:p-8">

        <!-- M√†n h√¨nh nh·∫≠p t√™n -->
        <div id="name-screen" class="text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-sky-600 mb-4">Ch√†o m·ª´ng b√©!</h1>
            <p class="text-center text-gray-500 mb-8">H√£y cho c√¥ bi·∫øt t√™n c·ªßa con l√† g√¨ nh√©!</p>
            <input type="text" id="name-input" placeholder="Nh·∫≠p t√™n c·ªßa b√©..." class="w-full max-w-sm mx-auto block p-4 border-2 border-sky-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-sky-500 focus:border-transparent mb-6">
            <button id="start-game-btn" class="w-full max-w-sm mx-auto bg-pink-500 text-white font-bold py-4 px-6 rounded-lg shadow-lg hover:bg-pink-600 transition-transform transform hover:scale-105 text-xl">B·∫Øt ƒë·∫ßu ch∆°i!</button>
        </div>

        <!-- M√†n h√¨nh ch√≠nh -->
        <div id="main-menu" class="hidden">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-sky-600 mb-2">H·ªçc Phonics C√πng B√©</h1>
            <p class="text-center text-gray-500 mb-8">H√£y ch·ªçn m·ªôt ch·ªØ c√°i ƒë·ªÉ b·∫Øt ƒë·∫ßu nh√©!</p>
            <div id="letter-buttons" class="grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 gap-4"></div>
        </div>

        <!-- M√†n h√¨nh ch·ªçn t·ª´ -->
        <div id="word-menu" class="hidden">
            <button id="back-to-main" class="mb-4 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">&larr; Quay l·∫°i</button>
            <h2 id="word-menu-title" class="text-3xl md:text-4xl font-bold text-center text-pink-500 mb-6"></h2>
            <div id="word-buttons" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4"></div>
        </div>

        <!-- M√†n h√¨nh ho·∫°t ƒë·ªông/game -->
        <div id="activity-screen" class="hidden">
            <button id="back-to-words" class="mb-4 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors">&larr; Quay l·∫°i</button>
            <div id="activity-content" class="space-y-6"></div>
        </div>

    </div>

    <script>
        const gameData = {
          'A a': [
            { id: 'apple', phonics: ['/a/', '/p/', '/l/', '/e/'], word: 'apple', sentence: 'I have an apple.', translation: 'T√¥i c√≥ m·ªôt qu·∫£ t√°o.', emoji: 'üçé' },
            { id: 'ant', phonics: ['/a/', '/n/', '/t/'], word: 'ant', sentence: 'The ant is small.', translation: 'Con ki·∫øn th√¨ nh·ªè.', emoji: 'üêú' },
            { id: 'alligator', phonics: ['/a/', '/l/', '/i/', '/g/', '/a/', '/t/', '/o/', '/r/'], word: 'alligator', sentence: 'The alligator is big.', translation: 'Con c√° s·∫•u th√¨ to.', emoji: 'üêä' },
            { id: 'arm', phonics: ['/a/', '/r/', '/m/'], word: 'arm', sentence: 'This is my arm.', translation: 'ƒê√¢y l√† c√°nh tay c·ªßa t√¥i.', emoji: 'üí™' }
          ],
          'B b': [
            { id: 'bag', phonics: ['/b/', '/a/', '/g/'], word: 'bag', sentence: 'This is my bag.', translation: 'ƒê√¢y l√† c√°i t√∫i c·ªßa t√¥i.', emoji: 'üëú' },
            { id: 'bat', phonics: ['/b/', '/a/', '/t/'], word: 'bat', sentence: 'The bat is black.', translation: 'Con d∆°i m√†u ƒëen.', emoji: 'ü¶á' },
            { id: 'bed', phonics: ['/b/', '/e/', '/d/'], word: 'bed', sentence: 'The bed is big.', translation: 'C√°i gi∆∞·ªùng th√¨ to.', emoji: 'üõèÔ∏è' },
            { id: 'bus', phonics: ['/b/', '/u/', '/s/'], word: 'bus', sentence: 'This is a bus.', translation: 'ƒê√¢y l√† m·ªôt chi·∫øc xe bu√Ωt.', emoji: 'üöå' }
          ],
          'C c': [
            { id: 'cat', phonics: ['/c/', '/a/', '/t/'], word: 'cat', sentence: 'The cat is on the mat.', translation: 'Con m√®o ·ªü tr√™n t·∫•m th·∫£m.', emoji: 'üêà' },
            { id: 'cap', phonics: ['/c/', '/a/', '/p/'], word: 'cap', sentence: 'I have a cap.', translation: 'T√¥i c√≥ m·ªôt c√°i m≈© l∆∞·ª°i trai.', emoji: 'üß¢' },
            { id: 'car', phonics: ['/c/', '/a/', '/r/'], word: 'car', sentence: 'This is a red car.', translation: 'ƒê√¢y l√† m·ªôt chi·∫øc xe h∆°i m√†u ƒë·ªè.', emoji: 'üöó' },
            { id: 'cup', phonics: ['/c/', '/u/', '/p/'], word: 'cup', sentence: 'The cup is blue.', translation: 'C√°i c·ªëc m√†u xanh d∆∞∆°ng.', emoji: '‚òï' }
          ],
          'D d': [
            { id: 'dog', phonics: ['/d/', '/o/', '/g/'], word: 'dog', sentence: 'The dog is brown.', translation: 'Ch√∫ ch√≥ m√†u n√¢u.', emoji: 'üêï' },
            { id: 'dad', phonics: ['/d/', '/a/', '/d/'], word: 'dad', sentence: 'This is my dad.', translation: 'ƒê√¢y l√† b·ªë c·ªßa t√¥i.', emoji: 'üë®' },
            { id: 'duck', phonics: ['/d/', '/u/', '/ck/'], word: 'duck', sentence: 'The duck is yellow.', translation: 'Con v·ªãt m√†u v√†ng.', emoji: 'ü¶Ü' },
            { id: 'door', phonics: ['/d/', '/oo/', '/r/'], word: 'door', sentence: 'Open the door.', translation: 'M·ªü c·ª≠a ra.', emoji: 'üö™' }
          ],
          'E e': [
            { id: 'egg', phonics: ['/e/', '/g/', '/g/'], word: 'egg', sentence: 'This is an egg.', translation: 'ƒê√¢y l√† m·ªôt qu·∫£ tr·ª©ng.', emoji: 'ü•ö' },
            { id: 'envelope', phonics: ['/e/', '/n/', '/v/', '/e/', '/l/', '/o/', '/p/', '/e/'], word: 'envelope', sentence: 'I have an envelope.', translation: 'T√¥i c√≥ m·ªôt c√°i phong b√¨.', emoji: '‚úâÔ∏è' },
            { id: 'elephant', phonics: ['/e/', '/l/', '/e/', '/p/', '/h/', '/a/', '/n/', '/t/'], word: 'elephant', sentence: 'The elephant is big.', translation: 'Con voi th√¨ to.', emoji: 'üêò' },
            { id: 'ear', phonics: ['/e/', '/a/', '/r/'], word: 'ear', sentence: 'This is my ear.', translation: 'ƒê√¢y l√† tai c·ªßa t√¥i.', emoji: 'üëÇ' }
          ],
          'F f': [
            { id: 'fan', phonics: ['/f/', '/a/', '/n/'], word: 'fan', sentence: 'I have a fan.', translation: 'T√¥i c√≥ m·ªôt c√°i qu·∫°t.', emoji: 'üå¨Ô∏è' },
            { id: 'fish', phonics: ['/f/', '/i/', '/sh/'], word: 'fish', sentence: 'The fish is small.', translation: 'Con c√° th√¨ nh·ªè.', emoji: 'üêü' },
            { id: 'fox', phonics: ['/f/', '/o/', '/x/'], word: 'fox', sentence: 'The fox is red.', translation: 'Con c√°o m√†u ƒë·ªè.', emoji: 'ü¶ä' },
            { id: 'foot', phonics: ['/f/', '/o/', '/o/', '/t/'], word: 'foot', sentence: 'My foot is big.', translation: 'B√†n ch√¢n c·ªßa t√¥i to.', emoji: 'ü¶∂' }
          ],
          'G g': [
            { id: 'goat', phonics: ['/g/', '/o/', '/a/', '/t/'], word: 'goat', sentence: 'The goat is white.', translation: 'Con d√™ m√†u tr·∫Øng.', emoji: 'üêê' },
            { id: 'giraffe', phonics: ['/g/', '/i/', '/r/', '/a/', '/f/', '/f/', '/e/'], word: 'giraffe', sentence: 'The giraffe is tall.', translation: 'Con h∆∞∆°u cao c·ªï th√¨ cao.', emoji: 'ü¶í' },
            { id: 'gum', phonics: ['/g/', '/u/', '/m/'], word: 'gum', sentence: 'I have gum.', translation: 'T√¥i c√≥ k·∫πo cao su.', emoji: 'üç¨' },
            { id: 'game', phonics: ['/g/', '/a/', '/m/', '/e/'], word: 'game', sentence: 'I like this game.', translation: 'T√¥i th√≠ch tr√≤ ch∆°i n√†y.', emoji: 'üéÆ' }
          ],
          'H h': [
            { id: 'hat', phonics: ['/h/', '/a/', '/t/'], word: 'hat', sentence: 'This is my hat.', translation: 'ƒê√¢y l√† c√°i m≈© c·ªßa t√¥i.', emoji: 'üé©' },
            { id: 'hen', phonics: ['/h/', '/e/', '/n/'], word: 'hen', sentence: 'The hen is brown.', translation: 'Con g√† m√°i m√†u n√¢u.', emoji: 'üêî' },
            { id: 'hippo', phonics: ['/h/', '/i/', '/p/', '/p/', '/o/'], word: 'hippo', sentence: 'The hippo is big.', translation: 'Con h√† m√£ th√¨ to.', emoji: 'ü¶õ' },
            { id: 'hand', phonics: ['/h/', '/a/', '/n/', '/d/'], word: 'hand', sentence: 'This is my hand.', translation: 'ƒê√¢y l√† b√†n tay c·ªßa t√¥i.', emoji: 'üñêÔ∏è' }
          ],
          'I i': [
            { id: 'ice', phonics: ['/i/', '/c/', '/e/'], word: 'ice', sentence: 'I like ice.', translation: 'T√¥i th√≠ch ƒë√°.', emoji: 'üßä' },
            { id: 'igloo', phonics: ['/i/', '/g/', '/l/', '/o/', '/o/'], word: 'igloo', sentence: 'The igloo is white.', translation: 'L·ªÅu tuy·∫øt m√†u tr·∫Øng.', emoji: 'üõñ' },
            { id: 'ink', phonics: ['/i/', '/n/', '/k/'], word: 'ink', sentence: 'This is blue ink.', translation: 'ƒê√¢y l√† m·ª±c xanh.', emoji: '‚úíÔ∏è' },
            { id: 'ig', phonics: ['/i/', '/g/'], word: 'ig', sentence: 'It is ig.', translation: 'N√≥ l√† ig.', emoji: '‚ÑπÔ∏è' }
          ],
          'J j': [
            { id: 'jam', phonics: ['/j/', '/a/', '/m/'], word: 'jam', sentence: 'I like jam.', translation: 'T√¥i th√≠ch m·ª©t.', emoji: 'üçì' },
            { id: 'jelly', phonics: ['/j/', '/e/', '/l/', '/l/', '/y/'], word: 'jelly', sentence: 'The jelly is red.', translation: 'Th·∫°ch m√†u ƒë·ªè.', emoji: 'üçÆ' },
            { id: 'jug', phonics: ['/j/', '/u/', '/g/'], word: 'jug', sentence: 'This is a jug.', translation: 'ƒê√¢y l√† m·ªôt c√°i b√¨nh.', emoji: 'üè∫' },
            { id: 'jacket', phonics: ['/j/', '/a/', '/c/', '/k/', '/e/', '/t/'], word: 'jacket', sentence: 'I wear my jacket.', translation: 'T√¥i m·∫∑c √°o kho√°c.', emoji: 'üß•' }
          ],
          'K k': [
            { id: 'kite', phonics: ['/k/', '/i/', '/t/', '/e/'], word: 'kite', sentence: 'I fly a kite.', translation: 'T√¥i th·∫£ di·ªÅu.', emoji: 'ü™Å' },
            { id: 'key', phonics: ['/k/', '/e/', '/y/'], word: 'key', sentence: 'This is a key.', translation: 'ƒê√¢y l√† m·ªôt chi·∫øc ch√¨a kh√≥a.', emoji: 'üîë' },
            { id: 'kit', phonics: ['/k/', '/i/', '/t/'], word: 'kit', sentence: 'The kit is new.', translation: 'B·ªô d·ª•ng c·ª• n√†y m·ªõi.', emoji: 'üõ†Ô∏è' },
            { id: 'kan', phonics: ['/k/', '/a/', '/n/'], word: 'kan', sentence: 'This is kan.', translation: 'ƒê√¢y l√† kan.', emoji: 'üá∞' }
          ],
          'L l': [
            { id: 'lion', phonics: ['/l/', '/i/', '/o/', '/n/'], word: 'lion', sentence: 'The lion is big.', translation: 'S∆∞ t·ª≠ th√¨ to.', emoji: 'ü¶Å' },
            { id: 'lemon', phonics: ['/l/', '/e/', '/m/', '/o/', '/n/'], word: 'lemon', sentence: 'I like lemon.', translation: 'T√¥i th√≠ch chanh.', emoji: 'üçã' },
            { id: 'lip', phonics: ['/l/', '/i/', '/p/'], word: 'lip', sentence: 'This is my lip.', translation: 'ƒê√¢y l√† m√¥i c·ªßa t√¥i.', emoji: 'üëÑ' },
            { id: 'log', phonics: ['/l/', '/o/', '/g/'], word: 'log', sentence: 'The log is brown.', translation: 'Kh√∫c g·ªó m√†u n√¢u.', emoji: 'ü™µ' }
          ],
          'M m': [
            { id: 'mat', phonics: ['/m/', '/a/', '/t/'], word: 'mat', sentence: 'The mat is blue.', translation: 'T·∫•m th·∫£m m√†u xanh d∆∞∆°ng.', emoji: 'üßò' },
            { id: 'map', phonics: ['/m/', '/a/', '/p/'], word: 'map', sentence: 'This is a map.', translation: 'ƒê√¢y l√† m·ªôt b·∫£n ƒë·ªì.', emoji: 'üó∫Ô∏è' },
            { id: 'mop', phonics: ['/m/', '/o/', '/p/'], word: 'mop', sentence: 'I use a mop.', translation: 'T√¥i d√πng c√¢y lau nh√†.', emoji: 'üßπ' },
            { id: 'mug', phonics: ['/m/', '/u/', '/g/'], word: 'mug', sentence: 'This is a mug.', translation: 'ƒê√¢y l√† m·ªôt c√°i c·ªëc.', emoji: '‚òï' }
          ],
          'N n': [
            { id: 'net', phonics: ['/n/', '/e/', '/t/'], word: 'net', sentence: 'The net is red.', translation: 'C√°i l∆∞·ªõi m√†u ƒë·ªè.', emoji: 'ü•Ö' },
            { id: 'nap', phonics: ['/n/', '/a/', '/p/'], word: 'nap', sentence: 'I take a nap.', translation: 'T√¥i ƒëi ng·ªß tr∆∞a.', emoji: 'üò¥' },
            { id: 'nut', phonics: ['/n/', '/u/', '/t/'], word: 'nut', sentence: 'This is a nut.', translation: 'ƒê√¢y l√† m·ªôt h·∫°t.', emoji: 'üå∞' },
            { id: 'not', phonics: ['/n/', '/o/', '/t/'], word: 'not', sentence: 'It is not big.', translation: 'N√≥ kh√¥ng to.', emoji: 'üö´' }
          ],
          'O o': [
            { id: 'octopus', phonics: ['/o/', '/c/', '/t/', '/o/', '/p/', '/u/', '/s/'], word: 'octopus', sentence: 'The octopus is big.', translation: 'Con b·∫°ch tu·ªôc th√¨ to.', emoji: 'üêô' },
            { id: 'owl', phonics: ['/o/', '/w/', '/l/'], word: 'owl', sentence: 'The owl is on the tree.', translation: 'Con c√∫ ·ªü tr√™n c√¢y.', emoji: 'ü¶â' },
            { id: 'oil', phonics: ['/o/', '/i/', '/l/'], word: 'oil', sentence: 'I have oil.', translation: 'T√¥i c√≥ d·∫ßu ƒÉn.', emoji: 'üõ¢Ô∏è' },
            { id: 'ox', phonics: ['/o/', '/x/'], word: 'ox', sentence: 'The ox is strong.', translation: 'Con b√≤ th√¨ kh·ªèe.', emoji: 'üêÇ' }
          ],
          'P p': [
            { id: 'pen', phonics: ['/p/', '/e/', '/n/'], word: 'pen', sentence: 'This is my pen.', translation: 'ƒê√¢y l√† b√∫t c·ªßa t√¥i.', emoji: 'üñäÔ∏è' },
            { id: 'pig', phonics: ['/p/', '/i/', '/g/'], word: 'pig', sentence: 'The pig is pink.', translation: 'Con l·ª£n m√†u h·ªìng.', emoji: 'üê∑' },
            { id: 'pan', phonics: ['/p/', '/a/', '/n/'], word: 'pan', sentence: 'This is a pan.', translation: 'ƒê√¢y l√† m·ªôt c√°i ch·∫£o.', emoji: 'üç≥' },
            { id: 'plan', phonics: ['/p/', '/l/', '/a/', '/n/'], word: 'plan', sentence: 'I have a plan.', translation: 'T√¥i c√≥ m·ªôt k·∫ø ho·∫°ch.', emoji: 'üìù' }
          ],
          'Q q': [
            { id: 'quill', phonics: ['/q/', '/u/', '/i/', '/l/'], word: 'quill', sentence: 'The quill is black.', translation: 'B√∫t l√¥ng ng·ªóng m√†u ƒëen.', emoji: 'ü™∂' },
            { id: 'queen', phonics: ['/q/', '/u/', '/e/', '/e/', '/n/'], word: 'queen', sentence: 'The queen is kind.', translation: 'N·ªØ ho√†ng th√¨ t·ªët b·ª•ng.', emoji: 'üëë' },
            { id: 'quartz', phonics: ['/q/', '/u/', '/a/', '/r/', '/t/', '/z/'], word: 'quartz', sentence: 'Quartz is shiny.', translation: 'Th·∫°ch anh th√¨ s√°ng b√≥ng.', emoji: 'üíé' },
            { id: 'quiz', phonics: ['/q/', '/u/', '/i/', '/z/'], word: 'quiz', sentence: 'I do a quiz.', translation: 'T√¥i l√†m m·ªôt b√†i ki·ªÉm tra.', emoji: '‚ùì' }
          ],
          'R r': [
            { id: 'rat', phonics: ['/r/', '/a/', '/t/'], word: 'rat', sentence: 'The rat is small.', translation: 'Con chu·ªôt th√¨ nh·ªè.', emoji: 'üêÄ' },
            { id: 'run', phonics: ['/r/', '/u/', '/n/'], word: 'run', sentence: 'I run fast.', translation: 'T√¥i ch·∫°y nhanh.', emoji: 'üèÉ' },
            { id: 'robot', phonics: ['/r/', '/o/', '/b/', '/o/', '/t/'], word: 'robot', sentence: 'The robot moves.', translation: 'Ng∆∞·ªùi m√°y di chuy·ªÉn.', emoji: 'ü§ñ' },
            { id: 'red', phonics: ['/r/', '/e/', '/d/'], word: 'red', sentence: 'The apple is red.', translation: 'Qu·∫£ t√°o m√†u ƒë·ªè.', emoji: 'üî¥' }
          ],
          'S s': [
            { id: 'sun', phonics: ['/s/', '/u/', '/n/'], word: 'sun', sentence: 'The sun is hot.', translation: 'M·∫∑t tr·ªùi th√¨ n√≥ng.', emoji: '‚òÄÔ∏è' },
            { id: 'sit', phonics: ['/s/', '/i/', '/t/'], word: 'sit', sentence: 'Sit on the mat.', translation: 'Ng·ªìi tr√™n th·∫£m.', emoji: 'üßò' },
            { id: 'sock', phonics: ['/s/', '/o/', '/c/', '/k/'], word: 'sock', sentence: 'I have a sock.', translation: 'T√¥i c√≥ m·ªôt chi·∫øc t·∫•t.', emoji: 'üß¶' },
            { id: 'sat', phonics: ['/s/', '/a/', '/t/'], word: 'sat', sentence: 'The cat sat.', translation: 'Con m√®o ƒë√£ ng·ªìi.', emoji: 'üêà' }
          ],
          'T t': [
            { id: 'top', phonics: ['/t/', '/o/', '/p/'], word: 'top', sentence: 'The top is red.', translation: 'Con quay m√†u ƒë·ªè.', emoji: 'üîù' },
            { id: 'tiger', phonics: ['/t/', '/i/', '/g/', '/e/', '/r/'], word: 'tiger', sentence: 'The tiger is big.', translation: 'Con h·ªï th√¨ to.', emoji: 'üêÖ' },
            { id: 'tap', phonics: ['/t/', '/a/', '/p/'], word: 'tap', sentence: 'Turn on the tap.', translation: 'M·ªü v√≤i n∆∞·ªõc.', emoji: 'üö∞' },
            { id: 'toy', phonics: ['/t/', '/o/', '/y/'], word: 'toy', sentence: 'This is a toy.', translation: 'ƒê√¢y l√† m·ªôt m√≥n ƒë·ªì ch∆°i.', emoji: 'üß∏' }
          ],
          'U u': [
            { id: 'umbrella', phonics: ['/u/', '/m/', '/b/', '/r/', '/e/', '/l/', '/l/', '/a/'], word: 'umbrella', sentence: 'I use an umbrella.', translation: 'T√¥i d√πng m·ªôt c√°i √¥.', emoji: '‚òÇÔ∏è' },
            { id: 'up', phonics: ['/u/', '/p/'], word: 'up', sentence: 'Look up.', translation: 'Nh√¨n l√™n.', emoji: 'üîº' },
            { id: 'unit', phonics: ['/u/', '/n/', '/i/', '/t/'], word: 'unit', sentence: 'This is a unit.', translation: 'ƒê√¢y l√† m·ªôt ƒë∆°n v·ªã.', emoji: 'üî¢' },
            { id: 'use', phonics: ['/u/', '/s/', '/e/'], word: 'use', sentence: 'I use a pen.', translation: 'T√¥i d√πng m·ªôt c√¢y b√∫t.', emoji: 'üñäÔ∏è' }
          ],
          'V v': [
            { id: 'van', phonics: ['/v/', '/a/', '/n/'], word: 'van', sentence: 'The van is big.', translation: 'Xe t·∫£i th√¨ to.', emoji: 'üöê' },
            { id: 'violin', phonics: ['/v/', '/i/', '/o/', '/l/', '/i/', '/n/'], word: 'violin', sentence: 'I play the violin.', translation: 'T√¥i ch∆°i violin.', emoji: 'üéª' },
            { id: 'vacuum', phonics: ['/v/', '/a/', '/c/', '/u/', '/u/', '/m/'], word: 'vacuum', sentence: 'I use a vacuum.', translation: 'T√¥i d√πng m√°y h√∫t b·ª•i.', emoji: 'üí®' },
            { id: 'vip', phonics: ['/v/', '/i/', '/p/'], word: 'vip', sentence: 'The VIP is here.', translation: 'VIP ·ªü ƒë√¢y.', emoji: '‚≠ê' }
          ],
          'W w': [
            { id: 'water', phonics: ['/w/', '/a/', '/t/', '/e/', '/r/'], word: 'water', sentence: 'I drink water.', translation: 'T√¥i u·ªëng n∆∞·ªõc.', emoji: 'üíß' },
            { id: 'wind', phonics: ['/w/', '/i/', '/n/', '/d/'], word: 'wind', sentence: 'The wind is strong.', translation: 'Gi√≥ th√¨ m·∫°nh.', emoji: 'üå¨Ô∏è' },
            { id: 'walk', phonics: ['/w/', '/a/', '/l/', '/k/'], word: 'walk', sentence: 'I walk to school.', translation: 'T√¥i ƒëi b·ªô ƒë·∫øn tr∆∞·ªùng.', emoji: 'üö∂' },
            { id: 'work', phonics: ['/w/', '/o/', '/r/', '/k/'], word: 'work', sentence: 'I do my work.', translation: 'T√¥i l√†m vi·ªác c·ªßa t√¥i.', emoji: 'üíº' }
          ],
          'X x': [
            { id: 'x-ray', phonics: ['/x/', '/-r/', '/a/', '/y/'], word: 'x-ray', sentence: 'The x-ray is clear.', translation: 'Tia X-quang th√¨ r√µ.', emoji: 'ü¶¥' },
            { id: 'xylophone', phonics: ['/x/', '/y/', '/l/', '/o/', '/p/', '/h/', '/o/', '/n/', '/e/'], word: 'xylophone', sentence: 'I play the xylophone.', translation: 'T√¥i ch∆°i ƒë√†n xylophone.', emoji: 'üé∂' },
            { id: 'xob', phonics: ['/x/', '/-o/', '/-b/'], word: 'xob', sentence: 'This is xob.', translation: 'ƒê√¢y l√† xob.', emoji: 'üáΩ' },
            { id: 'xit', phonics: ['/x/', '/i/', '/t/'], word: 'xit', sentence: 'It is xit.', translation: 'N√≥ l√† xit.', emoji: '‚ÑπÔ∏è' }
          ],
          'Y y': [
            { id: 'yak', phonics: ['/y/', '/a/', '/k/'], word: 'yak', sentence: 'The yak is big.', translation: 'Con b√≤ T√¢y T·∫°ng th√¨ to.', emoji: 'üêÉ' },
            { id: 'yellow', phonics: ['/y/', '/e/', '/l/', '/l/', '/o/', '/w/'], word: 'yellow', sentence: 'The sun is yellow.', translation: 'M·∫∑t tr·ªùi m√†u v√†ng.', emoji: 'üíõ' },
            { id: 'yarn', phonics: ['/y/', '/a/', '/r/', '/n/'], word: 'yarn', sentence: 'This is yarn.', translation: 'ƒê√¢y l√† cu·ªôn len.', emoji: 'üß∂' },
            { id: 'you', phonics: ['/y/', '/o/', '/u/'], word: 'you', sentence: 'How are you?', translation: 'B·∫°n c√≥ kh·ªèe kh√¥ng?', emoji: 'üëã' }
          ],
          'Z z': [
            { id: 'zip', phonics: ['/z/', '/i/', '/p/'], word: 'zip', sentence: 'I zip my bag.', translation: 'T√¥i k√©o kh√≥a t√∫i.', emoji: 'ü§ê' },
            { id: 'zebra', phonics: ['/z/', '/e/', '/b/', '/r/', '/a/'], word: 'zebra', sentence: 'The zebra is black and white.', translation: 'Ng·ª±a v·∫±n m√†u ƒëen v√† tr·∫Øng.', emoji: 'ü¶ì' },
            { id: 'zone', phonics: ['/z/', '/o/', '/n/', '/e/'], word: 'zone', sentence: 'This is a safe zone.', translation: 'ƒê√¢y l√† khu v·ª±c an to√†n.', emoji: 'üõ°Ô∏è' },
            { id: 'zing', phonics: ['/z/', '/i/', '/n/', '/g/'], word: 'zing', sentence: 'Listen to the zing.', translation: 'L·∫Øng nghe ti·∫øng "zing".', emoji: '‚ö°' }
          ]
        };

        const nameScreen = document.getElementById('name-screen');
        const nameInput = document.getElementById('name-input');
        const startGameBtn = document.getElementById('start-game-btn');
        const mainMenu = document.getElementById('main-menu');
        const wordMenu = document.getElementById('word-menu');
        const activityScreen = document.getElementById('activity-screen');
        const letterButtonsContainer = document.getElementById('letter-buttons');
        const wordButtonsContainer = document.getElementById('word-buttons');
        const activityContentContainer = document.getElementById('activity-content');
        const wordMenuTitle = document.getElementById('word-menu-title');
        const backToMainBtn = document.getElementById('back-to-main');
        const backToWordsBtn = document.getElementById('back-to-words');

        let playerName = '';
        let currentLetter = '';
        let sentenceReadInterval = null;
        
        const synth = window.speechSynthesis;
        const isSpeechSupported = typeof synth !== 'undefined';
        let voices = [];

        if (!isSpeechSupported) {
            console.warn("Tr√¨nh duy·ªát n√†y kh√¥ng h·ªó tr·ª£ Web Speech API. C√°c t√≠nh nƒÉng √¢m thanh s·∫Ω b·ªã v√¥ hi·ªáu h√≥a.");
        }

        function populateVoices() {
            if (!isSpeechSupported) return;
            voices = synth.getVoices().filter(voice => voice.lang.startsWith('en'));
        }
        
        populateVoices();
        if (isSpeechSupported && typeof speechSynthesis.onvoiceschanged !== 'undefined') {
            speechSynthesis.onvoiceschanged = populateVoices;
        }

        function stopSentenceReading() {
            if (sentenceReadInterval) {
                clearInterval(sentenceReadInterval);
                sentenceReadInterval = null;
            }
            if (isSpeechSupported && synth.speaking) {
                synth.cancel();
            }
        }

        function speak(text, onEndCallback) {
            if (!isSpeechSupported) {
                if (onEndCallback) onEndCallback();
                return;
            }
            
            stopSentenceReading(); // D·ª´ng c√¢u ƒëang ƒë·ªçc tr∆∞·ªõc khi ƒë·ªçc c√¢u m·ªõi
            const utterance = new SpeechSynthesisUtterance(text);
            if (onEndCallback) utterance.onend = onEndCallback;
            utterance.voice = voices.find(voice => voice.name.includes('Google US English')) || voices[0];
            utterance.pitch = 1.1;
            utterance.rate = 0.9;
            synth.speak(utterance);
        }

        function showScreen(screen) {
            nameScreen.classList.add('hidden');
            mainMenu.classList.add('hidden');
            wordMenu.classList.add('hidden');
            activityScreen.classList.add('hidden');
            screen.classList.remove('hidden');
        }

        function createButton(text, classes, clickHandler) {
            const button = document.createElement('button');
            button.innerHTML = text;
            button.className = classes;
            if(clickHandler) button.addEventListener('click', clickHandler);
            return button;
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function renderMainMenu() {
            letterButtonsContainer.innerHTML = '';
            const colors = ['bg-orange-400 hover:bg-orange-500', 'bg-teal-400 hover:bg-teal-500', 'bg-violet-400 hover:bg-violet-500', 'bg-rose-400 hover:bg-rose-500', 'bg-sky-400 hover:bg-sky-500'];
            let colorIndex = 0;
            for (const letter in gameData) {
                const buttonClasses = `w-full p-4 text-white text-3xl font-bold rounded-xl shadow-lg transform hover:scale-105 transition-transform ${colors[colorIndex % colors.length]}`;
                const button = createButton(letter, buttonClasses, () => {
                    currentLetter = letter;
                    renderWordMenu(letter);
                });
                letterButtonsContainer.appendChild(button);
                colorIndex++;
            }
        }

        function renderWordMenu(letter) {
            wordMenuTitle.textContent = `Ch·ªØ c√°i ${letter}`;
            wordButtonsContainer.innerHTML = '';
            gameData[letter].forEach((wordData, index) => {
                const buttonText = `<span class="text-4xl">${wordData.emoji}</span> <span class="mt-2 text-xl font-semibold">${wordData.word}</span>`;
                const buttonClasses = 'flex flex-col items-center justify-center p-4 bg-sky-500 text-white rounded-xl shadow-md hover:bg-sky-600 transition-colors btn-sound';
                const button = createButton(buttonText, buttonClasses, () => renderActivityScreen(wordData, index));
                wordButtonsContainer.appendChild(button);
            });
            showScreen(wordMenu);
        }

        function renderActivityScreen(wordData, wordIndex) {
            stopSentenceReading();
            activityContentContainer.innerHTML = '';
            
            const title = document.createElement('h3');
            title.className = 'text-4xl md:text-5xl font-bold text-center text-sky-600';
            title.innerHTML = `${wordData.word} <span class="text-4xl">${wordData.emoji}</span>`;
            activityContentContainer.appendChild(title);

            const phonicsSection = document.createElement('div');
            phonicsSection.className = 'p-4 bg-rose-100 rounded-lg';
            phonicsSection.innerHTML = `<h4 class="text-xl font-semibold text-rose-600 mb-3">B·∫•m ƒë·ªÉ nghe t·ª´ng √¢m:</h4>`;
            const phonicsContainer = document.createElement('div');
            phonicsContainer.className = 'flex flex-wrap gap-3 justify-center';
            wordData.phonics.forEach(phoneme => {
                const soundToSpeak = phoneme.replace(/\//g, '');
                const button = createButton(phoneme, 'bg-rose-500 text-white font-bold py-3 px-5 rounded-lg shadow-md hover:bg-rose-600 btn-sound', () => speak(soundToSpeak));
                phonicsContainer.appendChild(button);
            });
            phonicsSection.appendChild(phonicsContainer);
            activityContentContainer.appendChild(phonicsSection);

            const wordSection = document.createElement('div');
            wordSection.className = 'p-4 bg-amber-100 rounded-lg game-container';
            activityContentContainer.appendChild(wordSection);
            
            const sentenceSection = document.createElement('div');
            sentenceSection.className = 'p-4 bg-green-100 rounded-lg game-container';
            activityContentContainer.appendChild(sentenceSection);

            initiateSpellingGame(wordData, wordIndex, wordSection, () => {
                initiateSentenceGame(wordData, wordIndex, sentenceSection);
            });

            showScreen(activityScreen);
        }
        
        function goToNextWord(wordIndex) {
            const currentWordList = gameData[currentLetter];
            const nextIndex = wordIndex + 1;
            if (nextIndex < currentWordList.length) {
                setTimeout(() => renderActivityScreen(currentWordList[nextIndex], nextIndex), 2000);
            } else {
                const letters = Object.keys(gameData);
                const currentLetterIndex = letters.indexOf(currentLetter);
                const nextLetter = letters[currentLetterIndex + 1];

                activityContentContainer.innerHTML = `<div class="text-3xl font-bold text-center text-green-600 p-8 animate-tada">Ch√∫c m·ª´ng ${playerName}! Con ƒë√£ ho√†n th√†nh xu·∫•t s·∫Øc b·ªô ch·ªØ ${currentLetter}!</div>`;
                
                const buttonContainer = document.createElement('div');
                buttonContainer.className = 'flex flex-col sm:flex-row gap-4 justify-center mt-4';

                const reviewButton = createButton('√în t·∫≠p l·∫°i', 'w-full sm:w-auto bg-sky-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-sky-600 transition-transform transform hover:scale-105', () => {
                    renderWordMenu(currentLetter);
                });
                buttonContainer.appendChild(reviewButton);

                if (nextLetter) {
                    const nextLevelButton = createButton(`H·ªçc ch·ªØ ${nextLetter}`, 'w-full sm:w-auto bg-pink-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-pink-600 transition-transform transform hover:scale-105', () => {
                        currentLetter = nextLetter;
                        renderWordMenu(nextLetter);
                    });
                    buttonContainer.appendChild(nextLevelButton);
                } else {
                    activityContentContainer.innerHTML += `<div class="text-xl font-bold text-center text-sky-600 p-4">Con ƒë√£ ho√†n th√†nh t·∫•t c·∫£ c√°c b√†i h·ªçc!</div>`;
                    const playAgainButton = createButton('V·ªÅ m√†n h√¨nh ch√≠nh', 'w-full sm:w-auto bg-green-500 text-white font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-green-600 transition-transform transform hover:scale-105', () => {
                        showScreen(mainMenu);
                    });
                    buttonContainer.appendChild(playAgainButton);
                }
                
                activityContentContainer.appendChild(buttonContainer);
            }
        }
        
        function initiateSpellingGame(wordData, wordIndex, container, onComplete) {
            container.innerHTML = `<h4 class="text-xl font-semibold text-amber-600 mb-3">S·∫Øp x·∫øp c√°c ch·ªØ c√°i:</h4>`;
            speak(wordData.word, () => {
                setTimeout(() => speak(wordData.word, () => {
                  speak(`Spell ${wordData.word}: ${wordData.word.split('').join(', ')}`, () => {
                        startSpellingGame(wordData, wordIndex, container, onComplete);
                  });
                }), 400);
            });
        }
        
        function startSpellingGame(wordData, wordIndex, container, onComplete) {
            let guessedLetters = [];
            const correctWord = wordData.word;
            
            const guessDisplay = document.createElement('div');
            guessDisplay.className = 'min-h-[64px] w-full p-2 bg-white rounded-lg border-2 border-dashed border-gray-400 flex items-center justify-center text-3xl font-bold tracking-widest my-2 flex-wrap';
            
            const choicesContainer = document.createElement('div');
            choicesContainer.className = 'flex flex-wrap gap-3 justify-center';

            container.appendChild(guessDisplay);
            container.appendChild(choicesContainer);
            
            shuffleArray([...correctWord]).forEach(letter => {
                const button = createButton(letter, 'w-12 h-12 text-2xl bg-sky-500 text-white font-bold rounded-lg shadow-md hover:bg-sky-600 btn-sound');
                button.onclick = () => {
                    button.disabled = true;
                    button.classList.add('opacity-50', 'cursor-not-allowed');
                    guessedLetters.push({ letter: letter, choiceButton: button });
                    updateGuessDisplay();
                    if (guessedLetters.length === correctWord.length) {
                        setTimeout(checkGuess, 100);
                    }
                };
                choicesContainer.appendChild(button);
            });

            function updateGuessDisplay() {
                guessDisplay.innerHTML = '';
                if (guessedLetters.length === 0) {
                    guessDisplay.textContent = '_ '.repeat(correctWord.length);
                    guessDisplay.classList.remove('gap-2', 'p-2');
                } else {
                    guessDisplay.classList.add('gap-2', 'p-2');
                    guessedLetters.forEach((item, index) => {
                        const guessedLetterBtn = createButton(item.letter, 'w-12 h-12 text-2xl bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-red-500 cursor-pointer btn-sound');
                        guessedLetterBtn.onclick = () => {
                            item.choiceButton.disabled = false;
                            item.choiceButton.classList.remove('opacity-50', 'cursor-not-allowed');
                            guessedLetters.splice(index, 1);
                            updateGuessDisplay();
                        };
                        guessDisplay.appendChild(guessedLetterBtn);
                    });
                }
            }

            function checkGuess() {
                const currentGuessWord = guessedLetters.map(item => item.letter).join('');
                if (currentGuessWord === correctWord) {
                    guessDisplay.classList.remove('border-gray-400');
                    guessDisplay.classList.add('border-green-500', 'text-green-600', 'animate-tada');
                    speak(`Great! ${correctWord}`, onComplete);
                } else {
                    guessDisplay.classList.add('border-red-500', 'text-red-600', 'animate-shake');
                    speak('Oops, try again.', () => {
                         setTimeout(() => {
                            container.innerHTML = `<h4 class="text-xl font-semibold text-amber-600 mb-3">S·∫Øp x·∫øp c√°c ch·ªØ c√°i:</h4>`;
                            startSpellingGame(wordData, wordIndex, container, onComplete);
                         }, 1500);
                    });
                }
            }
            updateGuessDisplay();
        }

        function initiateSentenceGame(wordData, wordIndex, container) {
            container.innerHTML = `<h4 class="text-xl font-semibold text-green-600 mb-3">S·∫Øp x·∫øp c√°c t·ª´ th√†nh c√¢u:</h4>`;
            startSentenceGame(wordData, wordIndex, container);
            
            speak(wordData.sentence);
            sentenceReadInterval = setInterval(() => {
                if (!synth.speaking) {
                    speak(wordData.sentence);
                }
            }, 3000);
        }

        function startSentenceGame(wordData, wordIndex, container) {
            let guessedWords = [];
            const correctSentence = wordData.sentence;
            const correctWords = correctSentence.replace(/\.$/, '').split(' ');
            
            const guessDisplay = document.createElement('div');
            guessDisplay.className = 'min-h-[64px] w-full p-3 bg-white rounded-lg border-2 border-dashed border-gray-400 flex items-center justify-center text-xl font-semibold text-center my-2 flex-wrap gap-2';
            
            const translationDisplay = document.createElement('p');
            translationDisplay.className = 'text-center text-gray-500 italic -mt-2 mb-2';
            translationDisplay.textContent = `(D·ªãch: ${wordData.translation})`;
            
            const choicesContainer = document.createElement('div');
            choicesContainer.className = 'flex flex-wrap gap-3 justify-center';

            container.appendChild(guessDisplay);
            container.appendChild(translationDisplay);
            container.appendChild(choicesContainer);
            
            shuffleArray([...correctWords]).forEach(word => {
                const button = createButton(word, 'p-3 bg-amber-500 text-white font-bold rounded-lg shadow-md hover:bg-amber-600 btn-sound');
                button.onclick = () => {
                    button.disabled = true;
                    button.classList.add('opacity-50', 'cursor-not-allowed');
                    guessedWords.push({ word: word, choiceButton: button });
                    updateGuessDisplay();
                    if (guessedWords.length === correctWords.length) {
                        setTimeout(checkSentence, 100);
                    }
                };
                choicesContainer.appendChild(button);
            });

            function updateGuessDisplay() { 
                guessDisplay.innerHTML = '';
                if (guessedWords.length === 0) {
                    guessDisplay.textContent = '...';
                } else {
                    guessedWords.forEach((item, index) => {
                        const guessedWordBtn = createButton(item.word, 'p-3 bg-green-500 text-white font-bold rounded-lg shadow-md hover:bg-red-500 cursor-pointer btn-sound');
                        guessedWordBtn.onclick = () => {
                            item.choiceButton.disabled = false;
                            item.choiceButton.classList.remove('opacity-50', 'cursor-not-allowed');
                            guessedWords.splice(index, 1);
                            updateGuessDisplay();
                        };
                        guessDisplay.appendChild(guessedWordBtn);
                    });
                }
            }

            function checkSentence() {
                const currentSentence = guessedWords.map(item => item.word).join(' ');
                if (currentSentence === correctWords.join(' ')) {
                    stopSentenceReading();
                    guessDisplay.innerHTML = '';
                    const correctText = document.createElement('span');
                    correctText.textContent = correctSentence;
                    guessDisplay.appendChild(correctText);

                    guessDisplay.classList.remove('border-gray-400');
                    guessDisplay.classList.add('border-green-500', 'text-green-600', 'animate-tada');
                    speak(correctSentence, () => goToNextWord(wordIndex));
                } else {
                    guessDisplay.classList.add('border-red-500', 'text-red-600', 'animate-shake');
                    speak('Not quite, try again.', () => {
                        setTimeout(() => {
                            container.innerHTML = `<h4 class="text-xl font-semibold text-green-600 mb-3">S·∫Øp x·∫øp c√°c t·ª´ th√†nh c√¢u:</h4>`;
                            startSentenceGame(wordData, wordIndex, container);
                        }, 1500);
                    });
                }
            }
            updateGuessDisplay();
        }

        backToMainBtn.addEventListener('click', () => {
            stopSentenceReading();
            showScreen(mainMenu);
        });
        backToWordsBtn.addEventListener('click', () => {
            stopSentenceReading();
            if(currentLetter) {
                renderWordMenu(currentLetter);
            } else {
                showScreen(mainMenu);
            }
        });

        startGameBtn.addEventListener('click', () => {
            playerName = nameInput.value.trim();
            if (playerName === '') {
                playerName = 'B√©'; // T√™n m·∫∑c ƒë·ªãnh n·∫øu kh√¥ng nh·∫≠p
            }
            
            // T·ªëi ∆∞u h√≥a cho Safari: K√≠ch ho·∫°t Web Speech API sau l·∫ßn t∆∞∆°ng t√°c ƒë·∫ßu ti√™n
            if (isSpeechSupported) {
                const dummyUtterance = new SpeechSynthesisUtterance('');
                dummyUtterance.volume = 0;
                synth.speak(dummyUtterance);
                
                // ƒê√¥i khi Safari c·∫ßn g·ªçi getVoices() sau t∆∞∆°ng t√°c ƒë·ªÉ t·∫£i danh s√°ch gi·ªçng n√≥i
                if (synth.getVoices().length === 0) {
                    populateVoices();
                }
            }

            showScreen(mainMenu);
        });

        renderMainMenu();
        showScreen(nameScreen);
    </script>
</body>
</html>

